<div class="page-header">
  <h1>{{meal.id ? 'Edit Meal' : 'Add Meal'}}</h1>
</div>

<form class="form-horizontal" role="form" ng-submit="saveMeal(meal)" name="formMeal" novalidate>
  <div class="form-group" ng-class="{'has-error': formMeal.date.$invalid}">
    <label for="inputDate" class="col-sm-2 control-label">Date</label>
    <div class="col-sm-2">
      <input type="text" class="form-control" id="inputDate" ng-model="meal.date" name="date" required placeholder="YYYY-MM-DD" ng-pattern="/^\d{4}-\d{2}-\d{2}$/" />
    </div>
  </div>
  <div class="form-group" ng-class="{'has-error': formMeal.time.$invalid}">
    <label for="inputTime" class="col-sm-2 control-label" >Time</label>
    <div class="col-sm-2">
      <input type="text" class="form-control" id="inputTime" ng-model='meal.time' name="time" required placeholder= "HH:MM" ng-pattern="/^\d{1,2}:\d{2}$/" />
    </div>
  </div>
  <div class="form-group" ng-class="{'has-error': formMeal.calories.$dirty && formMeal.calories.$invalid}">
    <label for="inputCalories" class="col-sm-2 control-label">Calories</label>
    <div class="col-sm-2">
      <input type="number" class="form-control" id="inputCalories" ng-model="meal.calories" name="calories" required min="1" max="9999" pattern="\d+" />
    </div>
  </div>
  <div class="form-group" ng-class="{'has-error': formMeal.description.$invalid}">
    <label for="inputDesc" class="col-sm-2 control-label">Description</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="inputDesc" ng-model="meal.description" name="description" ng-maxlength="255" />
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-primary" ng-disabled="formMeal.$pristine || formMeal.$invalid">Save Meal</button>
      <a href="/dashboard" class="btn btn-default">Cancel</a>
    </div>
  </div>
</form>
